{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import DefaultLayout from\"../components/DefaultLayout\";import{useDispatch,useSelector}from\"react-redux\";import{getAllBookings}from\"../redux/actions/bookingActions\";import{Col,Row}from\"antd\";import Spinner from'../components/Spinner';import moment from\"moment\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserBookings(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.bookingsReducer;}),bookings=_useSelector.bookings;var _useSelector2=useSelector(function(state){return state.alertsReducer;}),loading=_useSelector2.loading;var user=JSON.parse(localStorage.getItem(\"user\"));useEffect(function(){dispatch(getAllBookings());},[]);return/*#__PURE__*/_jsxs(DefaultLayout,{children:[loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center mt-2\",children:\"My Bookings\"}),/*#__PURE__*/_jsx(Row,{justify:\"center\",gutter:16,children:/*#__PURE__*/_jsx(Col,{lg:16,sm:24,children:bookings.filter(function(o){return o.user==user._id;}).map(function(booking){return/*#__PURE__*/_jsxs(Row,{gutter:16,className:\"bs1 mt-3 text-left\",children:[/*#__PURE__*/_jsxs(Col,{lg:6,sm:24,children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"b\",{children:booking.car.name})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total hours : \",/*#__PURE__*/_jsx(\"b\",{children:booking.totalHours})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rent per hour : \",/*#__PURE__*/_jsx(\"b\",{children:booking.car.rentPerHour})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total amount : \",/*#__PURE__*/_jsx(\"b\",{children:booking.totalAmount})]})]}),/*#__PURE__*/_jsxs(Col,{lg:12,sm:24,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Transaction Id : \",/*#__PURE__*/_jsx(\"b\",{children:booking.transactionId})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"From: \",/*#__PURE__*/_jsx(\"b\",{children:booking.bookedTimeSlots.from})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"To: \",/*#__PURE__*/_jsx(\"b\",{children:booking.bookedTimeSlots.to})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Date of booking: \",/*#__PURE__*/_jsx(\"b\",{children:moment(booking.createdAt).format('MMM DD yyyy')})]})]}),/*#__PURE__*/_jsx(Col,{lg:6,sm:24,className:\"text-right\",children:/*#__PURE__*/_jsx(\"img\",{style:{borderRadius:5},src:booking.car.image,height:\"140\",className:\"p-2\"})})]});})})})]});}export default UserBookings;","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/CAB_RENTAL/client/src/pages/UserBookings.js"],"names":["React","useState","useEffect","DefaultLayout","useDispatch","useSelector","getAllBookings","Col","Row","Spinner","moment","UserBookings","dispatch","state","bookingsReducer","bookings","alertsReducer","loading","user","JSON","parse","localStorage","getItem","filter","o","_id","map","booking","car","name","totalHours","rentPerHour","totalAmount","transactionId","bookedTimeSlots","from","to","createdAt","format","borderRadius","image"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,aAAP,KAA0B,6BAA1B,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,cAAT,KAA+B,iCAA/B,CACA,OAASC,GAAT,CAAcC,GAAd,KAAyB,MAAzB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,C,wFACA,QAASC,CAAAA,YAAT,EAAwB,CACtB,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,iBAAqBC,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACC,eAAjB,EAAD,CAAhC,CAAQC,QAAR,cAAQA,QAAR,CACA,kBAAkBV,WAAW,CAAC,SAACQ,KAAD,QAAWA,CAAAA,KAAK,CAACG,aAAjB,EAAD,CAA7B,CAAOC,OAAP,eAAOA,OAAP,CACA,GAAMC,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CACApB,SAAS,CAAC,UAAM,CACdU,QAAQ,CAACN,cAAc,EAAf,CAAR,CACD,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,MAAC,aAAD,YACKW,OAAO,eAAK,KAAC,OAAD,IADjB,cAEE,WAAI,SAAS,CAAC,kBAAd,yBAFF,cAIE,KAAC,GAAD,EAAK,OAAO,CAAC,QAAb,CAAsB,MAAM,CAAE,EAA9B,uBACE,KAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,UAEKF,QAAQ,CAACQ,MAAT,CAAgB,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACN,IAAF,EAAQA,IAAI,CAACO,GAAf,EAAjB,EAAqCC,GAArC,CAAyC,SAACC,OAAD,CAAa,CACtD,mBAAO,MAAC,GAAD,EAAK,MAAM,CAAE,EAAb,CAAiB,SAAS,CAAC,oBAA3B,wBACJ,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,EAAhB,wBACI,gCAAG,mBAAIA,OAAO,CAACC,GAAR,CAAYC,IAAhB,EAAH,EADJ,cAEI,mDAAiB,mBAAIF,OAAO,CAACG,UAAZ,EAAjB,GAFJ,cAGI,qDAAmB,mBAAIH,OAAO,CAACC,GAAR,CAAYG,WAAhB,EAAnB,GAHJ,cAII,oDAAkB,mBAAIJ,OAAO,CAACK,WAAZ,EAAlB,GAJJ,GADI,cAQJ,MAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,EAAE,CAAE,EAAjB,wBACA,sDAAoB,mBAAIL,OAAO,CAACM,aAAZ,EAApB,GADA,cAEA,2CAAS,mBAAIN,OAAO,CAACO,eAAR,CAAwBC,IAA5B,EAAT,GAFA,cAGA,yCAAO,mBAAIR,OAAO,CAACO,eAAR,CAAwBE,EAA5B,EAAP,GAHA,cAIA,sDAAoB,mBAAI1B,MAAM,CAACiB,OAAO,CAACU,SAAT,CAAN,CAA0BC,MAA1B,CAAiC,aAAjC,CAAJ,EAApB,GAJA,GARI,cAeJ,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,EAAhB,CAAoB,SAAS,CAAC,YAA9B,uBACI,YAAK,KAAK,CAAE,CAACC,YAAY,CAAC,CAAd,CAAZ,CAA8B,GAAG,CAAEZ,OAAO,CAACC,GAAR,CAAYY,KAA/C,CAAuD,MAAM,CAAC,KAA9D,CAAoE,SAAS,CAAC,KAA9E,EADJ,EAfI,GAAP,CAmBA,CApBA,CAFL,EADF,EAJF,GADF,CAkCD,CAED,cAAe7B,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport DefaultLayout from \"../components/DefaultLayout\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getAllBookings } from \"../redux/actions/bookingActions\";\r\nimport { Col, Row } from \"antd\";\r\nimport Spinner from '../components/Spinner';\r\nimport moment from \"moment\";\r\nfunction UserBookings() {\r\n  const dispatch = useDispatch();\r\n  const { bookings } = useSelector((state) => state.bookingsReducer);\r\n  const {loading} = useSelector((state) => state.alertsReducer);\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  useEffect(() => {\r\n    dispatch(getAllBookings());\r\n  }, []);\r\n\r\n  return (\r\n    <DefaultLayout>\r\n        {loading && (<Spinner />)}\r\n      <h3 className=\"text-center mt-2\">My Bookings</h3>\r\n    \r\n      <Row justify=\"center\" gutter={16}>\r\n        <Col lg={16} sm={24}>\r\n         \r\n            {bookings.filter(o=>o.user==user._id).map((booking) => {\r\n             return <Row gutter={16} className=\"bs1 mt-3 text-left\">\r\n                <Col lg={6} sm={24}>\r\n                    <p><b>{booking.car.name}</b></p>\r\n                    <p>Total hours : <b>{booking.totalHours}</b></p>\r\n                    <p>Rent per hour : <b>{booking.car.rentPerHour}</b></p>\r\n                    <p>Total amount : <b>{booking.totalAmount}</b></p>\r\n                </Col>\r\n\r\n                <Col lg={12} sm={24}>\r\n                <p>Transaction Id : <b>{booking.transactionId}</b></p>\r\n                <p>From: <b>{booking.bookedTimeSlots.from}</b></p>\r\n                <p>To: <b>{booking.bookedTimeSlots.to}</b></p>\r\n                <p>Date of booking: <b>{moment(booking.createdAt).format('MMM DD yyyy')}</b></p>\r\n                </Col>\r\n\r\n                <Col lg={6} sm={24} className='text-right'>\r\n                    <img style={{borderRadius:5}} src={booking.car.image}  height=\"140\" className=\"p-2\"/>\r\n                </Col>\r\n              </Row>;\r\n            })}\r\n          \r\n        </Col>\r\n      </Row>\r\n    </DefaultLayout>\r\n  );\r\n}\r\n\r\nexport default UserBookings;\r\n"]},"metadata":{},"sourceType":"module"}