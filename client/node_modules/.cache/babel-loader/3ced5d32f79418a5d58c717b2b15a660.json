{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/lenovo/Desktop/CAB_RENTAL/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/lenovo/Desktop/CAB_RENTAL/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{message}from'antd';export var userLogin=function userLogin(reqObj){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:'LOADING',payload:true});_context.prev=1;_context.next=4;return axios.post('/api/users/login',reqObj);case 4:response=_context.sent;localStorage.setItem('user',JSON.stringify(response.data));message.success('Login success');dispatch({type:'LOADING',payload:false});setTimeout(function(){window.location.href='/';},500);_context.next=16;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(_context.t0);message.error('Something went wrong');dispatch({type:'LOADING',payload:false});case 16:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var userRegister=function userRegister(reqObj){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:'LOADING',payload:true});_context2.prev=1;_context2.next=4;return axios.post('/api/users/register',reqObj);case 4:response=_context2.sent;message.success('Registration successfull');setTimeout(function(){window.location.href='/login';},500);dispatch({type:'LOADING',payload:false});_context2.next=15;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);message.error('Something went wrong');dispatch({type:'LOADING',payload:false});case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[1,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/CAB_RENTAL/client/src/redux/actions/userActions.js"],"names":["axios","message","userLogin","reqObj","dispatch","type","payload","post","response","localStorage","setItem","JSON","stringify","data","success","setTimeout","window","location","href","console","log","error","userRegister"],"mappings":"qPAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,OAAR,KAAsB,MAAtB,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAC,QAAVA,CAAAA,SAAU,CAACC,MAAD,iGAAU,iBAAMC,QAAN,+HAE7BA,QAAQ,CAAC,CAACC,IAAI,CAAE,SAAP,CAAmBC,OAAO,CAAC,IAA3B,CAAD,CAAR,CAF6B,sCAKFN,CAAAA,KAAK,CAACO,IAAN,CAAW,kBAAX,CAAgCJ,MAAhC,CALE,QAKnBK,QALmB,eAMzBC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA8BC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACK,IAAxB,CAA9B,EACAZ,OAAO,CAACa,OAAR,CAAgB,eAAhB,EACAV,QAAQ,CAAC,CAACC,IAAI,CAAE,SAAP,CAAmBC,OAAO,CAAC,KAA3B,CAAD,CAAR,CACAS,UAAU,CAAC,UAAM,CACbC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,GAArB,CAEH,CAHS,CAGP,GAHO,CAAV,CATyB,iFAczBC,OAAO,CAACC,GAAR,cACAnB,OAAO,CAACoB,KAAR,CAAc,sBAAd,EACAjB,QAAQ,CAAC,CAACC,IAAI,CAAE,SAAP,CAAmBC,OAAO,CAAC,KAA3B,CAAD,CAAR,CAhByB,qEAAV,gEAAhB,CAoBP,MAAO,IAAMgB,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAACnB,MAAD,kGAAU,kBAAMC,QAAN,mIAEhCA,QAAQ,CAAC,CAACC,IAAI,CAAE,SAAP,CAAmBC,OAAO,CAAC,IAA3B,CAAD,CAAR,CAFgC,wCAKLN,CAAAA,KAAK,CAACO,IAAN,CAAW,qBAAX,CAAmCJ,MAAnC,CALK,QAKtBK,QALsB,gBAM5BP,OAAO,CAACa,OAAR,CAAgB,0BAAhB,EACAC,UAAU,CAAC,UAAM,CACbC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqB,QAArB,CAEH,CAHS,CAGP,GAHO,CAAV,CAKAd,QAAQ,CAAC,CAACC,IAAI,CAAE,SAAP,CAAmBC,OAAO,CAAC,KAA3B,CAAD,CAAR,CAZ4B,qFAe5Ba,OAAO,CAACC,GAAR,eACAnB,OAAO,CAACoB,KAAR,CAAc,sBAAd,EACAjB,QAAQ,CAAC,CAACC,IAAI,CAAE,SAAP,CAAmBC,OAAO,CAAC,KAA3B,CAAD,CAAR,CAjB4B,uEAAV,kEAAnB","sourcesContent":["import axios from \"axios\";\r\nimport {message} from 'antd'\r\n\r\nexport const userLogin=(reqObj)=>async dispatch=>{\r\n    \r\n    dispatch({type: 'LOADING' , payload:true})\r\n\r\n    try {\r\n        const response = await axios.post('/api/users/login' , reqObj)\r\n        localStorage.setItem('user' , JSON.stringify(response.data))\r\n        message.success('Login success')\r\n        dispatch({type: 'LOADING' , payload:false})\r\n        setTimeout(() => {\r\n            window.location.href='/'\r\n         \r\n        }, 500);\r\n    } catch (error) {\r\n        console.log(error)\r\n        message.error('Something went wrong')\r\n        dispatch({type: 'LOADING' , payload:false})\r\n    }\r\n}\r\n\r\nexport const userRegister=(reqObj)=>async dispatch=>{\r\n    \r\n    dispatch({type: 'LOADING' , payload:true})\r\n\r\n    try {\r\n        const response = await axios.post('/api/users/register' , reqObj)\r\n        message.success('Registration successfull')\r\n        setTimeout(() => {\r\n            window.location.href='/login'\r\n         \r\n        }, 500);\r\n       \r\n        dispatch({type: 'LOADING' , payload:false})\r\n        \r\n    } catch (error) {\r\n        console.log(error)\r\n        message.error('Something went wrong')\r\n        dispatch({type: 'LOADING' , payload:false})\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}