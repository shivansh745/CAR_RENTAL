{"ast":null,"code":"import _slicedToArray from\"C:/Users/lenovo/Desktop/CAB_RENTAL/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Col,Row,Form,Input}from\"antd\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import DefaultLayout from\"../components/DefaultLayout\";import Spinner from\"../components/Spinner\";import{addCar,editCar,getAllCars}from\"../redux/actions/carsActions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditCar(_ref){var match=_ref.match;var _useSelector=useSelector(function(state){return state.carsReducer;}),cars=_useSelector.cars;var dispatch=useDispatch();var _useSelector2=useSelector(function(state){return state.alertsReducer;}),loading=_useSelector2.loading;var _useState=useState(),_useState2=_slicedToArray(_useState,2),car=_useState2[0],setcar=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),totalcars=_useState4[0],settotalcars=_useState4[1];useEffect(function(){if(cars.length==0){dispatch(getAllCars());}else{settotalcars(cars);setcar(cars.find(function(o){return o._id==match.params.carid;}));console.log(car);}},[cars]);function onFinish(values){values._id=car._id;dispatch(editCar(values));console.log(values);}return/*#__PURE__*/_jsxs(DefaultLayout,{children:[loading&&/*#__PURE__*/_jsx(Spinner,{}),/*#__PURE__*/_jsx(Row,{justify:\"center mt-5\",children:/*#__PURE__*/_jsx(Col,{lg:12,sm:24,xs:24,className:\"p-2\",children:totalcars.length>0&&/*#__PURE__*/_jsxs(Form,{initialValues:car,className:\"bs1 p-2\",layout:\"vertical\",onFinish:onFinish,children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Car\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Form.Item,{name:\"name\",label:\"Car name\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"image\",label:\"Image url\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"rentPerHour\",label:\"Rent per hour\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"capacity\",label:\"Capacity\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"fuelType\",label:\"Fuel Type\",rules:[{required:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn1\",children:\"Edit CAR\"})})]})})})]});}export default EditCar;","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/CAB_RENTAL/client/src/pages/EditCar.js"],"names":["Col","Row","Form","Input","React","useEffect","useState","useDispatch","useSelector","DefaultLayout","Spinner","addCar","editCar","getAllCars","EditCar","match","state","carsReducer","cars","dispatch","alertsReducer","loading","car","setcar","totalcars","settotalcars","length","find","o","_id","params","carid","console","log","onFinish","values","required"],"mappings":"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","sourcesContent":["import { Col, Row, Form, Input } from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport DefaultLayout from \"../components/DefaultLayout\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport { addCar, editCar, getAllCars } from \"../redux/actions/carsActions\";\r\nfunction EditCar({ match }) {\r\n  const { cars } = useSelector((state) => state.carsReducer);\r\n  const dispatch = useDispatch();\r\n  const { loading } = useSelector((state) => state.alertsReducer);\r\n  const [car, setcar] = useState();\r\n  const [totalcars, settotalcars] = useState([]);\r\n  useEffect(() => {\r\n    if (cars.length == 0) {\r\n      dispatch(getAllCars());\r\n    } else {\r\n      settotalcars(cars);\r\n      setcar(cars.find((o) => o._id == match.params.carid));\r\n      console.log(car);\r\n    }\r\n  }, [cars]);\r\n\r\n  function onFinish(values) {\r\n    values._id = car._id;\r\n\r\n    dispatch(editCar(values));\r\n    console.log(values);\r\n  }\r\n\r\n  return (\r\n    <DefaultLayout>\r\n      {loading && <Spinner />}\r\n      <Row justify=\"center mt-5\">\r\n        <Col lg={12} sm={24} xs={24} className='p-2'>\r\n          {totalcars.length > 0 && (\r\n            <Form\r\n              initialValues={car}\r\n              className=\"bs1 p-2\"\r\n              layout=\"vertical\"\r\n              onFinish={onFinish}\r\n            >\r\n              <h3>Edit Car</h3>\r\n\r\n              <hr />\r\n              <Form.Item\r\n                name=\"name\"\r\n                label=\"Car name\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"image\"\r\n                label=\"Image url\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"rentPerHour\"\r\n                label=\"Rent per hour\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"capacity\"\r\n                label=\"Capacity\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"fuelType\"\r\n                label=\"Fuel Type\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n\r\n              <div className=\"text-right\">\r\n                <button className=\"btn1\">Edit CAR</button>\r\n              </div>\r\n            </Form>\r\n          )}\r\n        </Col>\r\n      </Row>\r\n    </DefaultLayout>\r\n  );\r\n}\r\n\r\nexport default EditCar;\r\n"]},"metadata":{},"sourceType":"module"}